#!/bin/bash
# 本脚本用于测试wcc编译器带lla参数时的编译结果
root_dir=$(cd `dirname $0`/../.. && pwd -P)
pkg_dir="/mnt/disk1/Project/WeCuit-Project/WeCuit-Mini-uni-test_uni_vue-cli/dist/dev/mp-weixin"
# pkg_dir="/home/msojocs/Documents/we1"
store_dir="$root_dir/test/wcc/lla/2"

cd "$pkg_dir" && \
wine "$root_dir/package.nw/js/vendor/wcc.exe" "-ds" "-d" "--split" ">_<9986" "-xc" "56>_<9986./components/card.wxml>_<99860>_<9986./components/beat-char/beat-char.wxml>_<99860>_<9986./components/mytree/mytree.wxml>_<99861>_<9986mytree>_<9986./components/scroll/index.wxml>_<99860>_<9986./components/tab/index.wxml>_<99860>_<9986./miniprogram_npm/weui-miniprogram/cell/cell.wxml>_<99861>_<9986mp-cells>_<9986./miniprogram_npm/weui-miniprogram/cells/cells.wxml>_<99860>_<9986./miniprogram_npm/weui-miniprogram/loading/loading.wxml>_<99860>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml>_<99861>_<9986node>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml>_<99861>_<9986node>_<9986./pages/THEOL/THEOL.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/THEOL/dir/dir.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/THEOL/tree/tree.wxml>_<99862>_<9986mytree>_<9986mp-loading>_<9986./pages/articleView/articleView.wxml>_<99861>_<9986html-parser>_<9986./pages/auth/auth.wxml>_<99863>_<9986uni-row>_<9986uni-col>_<9986uni-title>_<9986./pages/calendar/calendar.wxml>_<99860>_<9986./pages/card/card.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/checkIn/edit.wxml>_<99863>_<9986d-form>_<9986mp-cell>_<9986mp-cells>_<9986./pages/checkIn/list.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/courseTable/courseTable.wxml>_<99860>_<9986./pages/courseTable/imgCropper/imgCropper.wxml>_<99861>_<9986image-cropper>_<9986./pages/exam/exam.wxml>_<99860>_<9986./pages/grade/grade.wxml>_<99860>_<9986./pages/index/index.wxml>_<99860>_<9986./pages/laboratory/detail.wxml>_<99860>_<9986./pages/laboratory/list.wxml>_<99860>_<9986./pages/login/login.wxml>_<99860>_<9986./pages/maintenance/maintenance.wxml>_<99861>_<9986beat-char>_<9986./pages/my/about.wxml>_<99860>_<9986./pages/my/info.wxml>_<99862>_<9986uni-row>_<9986uni-col>_<9986./pages/my/my.wxml>_<99862>_<9986uni-card>_<9986info>_<9986./pages/my/ADMag/ADMag.wxml>_<99860>_<9986./pages/my/ADMag/watchAD/watchAD.wxml>_<99860>_<9986./pages/my/bind/bind.wxml>_<99860>_<9986./pages/my/bind/mini.wxml>_<99860>_<9986./pages/my/dataMag/dataMag.wxml>_<99860>_<9986./pages/my/register/register.wxml>_<99860>_<9986./pages/my/sso/forget.wxml>_<99860>_<9986./pages/my/sso/sso.wxml>_<99862>_<9986mp-cells>_<9986mp-cell>_<9986./pages/my/sub/sub.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/newsList/newsList.wxml>_<99862>_<9986tab>_<9986scroll>_<9986./pages/officeGrade/query.wxml>_<99862>_<9986mp-cells>_<9986mp-cell>_<9986./pages/resources/list.wxml>_<99860>_<9986./pages/terms/privacy.wxml>_<99861>_<9986card>_<9986./pages/terms/terms.wxml>_<99860>_<9986./uni_modules/uni-card/components/uni-card/uni-card.wxml>_<99861>_<9986uni-icons>_<9986./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml>_<99860>_<9986./uni_modules/uni-row/components/uni-col/uni-col.wxml>_<99860>_<9986./uni_modules/uni-row/components/uni-row/uni-row.wxml>_<99860>_<9986./uni_modules/uni-title/components/uni-title/uni-title.wxml>_<99860>_<9986./wxcomponents/dynamicForm/index.wxml>_<99863>_<9986van-icon>_<9986van-uploader>_<9986time-picker>_<9986./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml>_<99860>_<9986./wxcomponents/dynamicForm/vant/icon/index.wxml>_<99861>_<9986van-info>_<9986./wxcomponents/dynamicForm/vant/info/index.wxml>_<99860>_<9986./wxcomponents/dynamicForm/vant/uploader/index.wxml>_<99861>_<9986van-icon>_<9986./wxcomponents/image-cropper/image-cropper.wxml>_<99860" "-lla" "./components/card>_<9986./components/beat-char/beat-char>_<9986./components/mytree/mytree>_<9986./components/scroll/index>_<9986./components/tab/index>_<9986./miniprogram_npm/weui-miniprogram/cell/cell>_<9986./miniprogram_npm/weui-miniprogram/cells/cells>_<9986./miniprogram_npm/weui-miniprogram/loading/loading>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/node/node>_<9986./pages/THEOL/THEOL>_<9986./pages/THEOL/dir/dir>_<9986./pages/THEOL/tree/tree>_<9986./pages/articleView/articleView>_<9986./pages/auth/auth>_<9986./pages/calendar/calendar>_<9986./pages/card/card>_<9986./pages/checkIn/edit>_<9986./pages/checkIn/list>_<9986./pages/courseTable/courseTable>_<9986./pages/courseTable/imgCropper/imgCropper>_<9986./pages/exam/exam>_<9986./pages/grade/grade>_<9986./pages/index/index>_<9986./pages/laboratory/detail>_<9986./pages/laboratory/list>_<9986./pages/login/login>_<9986./pages/maintenance/maintenance>_<9986./pages/my/about>_<9986./pages/my/info>_<9986./pages/my/my>_<9986./pages/my/ADMag/ADMag>_<9986./pages/my/ADMag/watchAD/watchAD>_<9986./pages/my/bind/bind>_<9986./pages/my/bind/mini>_<9986./pages/my/dataMag/dataMag>_<9986./pages/my/register/register>_<9986./pages/my/sso/forget>_<9986./pages/my/sso/sso>_<9986./pages/my/sub/sub>_<9986./pages/newsList/newsList>_<9986./pages/officeGrade/query>_<9986./pages/resources/list>_<9986./pages/terms/privacy>_<9986./pages/terms/terms>_<9986./uni_modules/uni-card/components/uni-card/uni-card>_<9986./uni_modules/uni-icons/components/uni-icons/uni-icons>_<9986./uni_modules/uni-row/components/uni-col/uni-col>_<9986./uni_modules/uni-row/components/uni-row/uni-row>_<9986./uni_modules/uni-title/components/uni-title/uni-title>_<9986./wxcomponents/dynamicForm/index>_<9986./wxcomponents/dynamicForm/components/timePicker/timePicker>_<9986./wxcomponents/dynamicForm/vant/icon/index>_<9986./wxcomponents/dynamicForm/vant/info/index>_<9986./wxcomponents/dynamicForm/vant/uploader/index>_<9986./wxcomponents/image-cropper/image-cropper" "./components/card.wxml" "./components/beat-char/beat-char.wxml" "./components/mytree/mytree.wxml" "./components/scroll/index.wxml" "./components/tab/index.wxml" "./miniprogram_npm/weui-miniprogram/cell/cell.wxml" "./miniprogram_npm/weui-miniprogram/cells/cells.wxml" "./miniprogram_npm/weui-miniprogram/loading/loading.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml" "./pages/THEOL/THEOL.wxml" "./pages/THEOL/dir/dir.wxml" "./pages/THEOL/tree/tree.wxml" "./pages/articleView/articleView.wxml" "./pages/auth/auth.wxml" "./pages/calendar/calendar.wxml" "./pages/card/card.wxml" "./pages/checkIn/edit.wxml" "./pages/checkIn/list.wxml" "./pages/courseTable/courseTable.wxml" "./pages/courseTable/imgCropper/imgCropper.wxml" "./pages/exam/exam.wxml" "./pages/grade/grade.wxml" "./pages/index/index.wxml" "./pages/laboratory/detail.wxml" "./pages/laboratory/list.wxml" "./pages/login/login.wxml" "./pages/maintenance/maintenance.wxml" "./pages/my/about.wxml" "./pages/my/info.wxml" "./pages/my/my.wxml" "./pages/my/ADMag/ADMag.wxml" "./pages/my/ADMag/watchAD/watchAD.wxml" "./pages/my/bind/bind.wxml" "./pages/my/bind/mini.wxml" "./pages/my/dataMag/dataMag.wxml" "./pages/my/register/register.wxml" "./pages/my/sso/forget.wxml" "./pages/my/sso/sso.wxml" "./pages/my/sub/sub.wxml" "./pages/newsList/newsList.wxml" "./pages/officeGrade/query.wxml" "./pages/resources/list.wxml" "./pages/terms/privacy.wxml" "./pages/terms/terms.wxml" "./uni_modules/uni-card/components/uni-card/uni-card.wxml" "./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml" "./uni_modules/uni-row/components/uni-col/uni-col.wxml" "./uni_modules/uni-row/components/uni-row/uni-row.wxml" "./uni_modules/uni-title/components/uni-title/uni-title.wxml" "./wxcomponents/dynamicForm/index.wxml" "./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml" "./wxcomponents/dynamicForm/vant/icon/index.wxml" "./wxcomponents/dynamicForm/vant/info/index.wxml" "./wxcomponents/dynamicForm/vant/uploader/index.wxml" "./wxcomponents/image-cropper/image-cropper.wxml" "./pages/grade/check.wxs" "./pages/laboratory/labDetail.wxs" "-gn" "\$gwx" \
 > "$store_dir/wine.json"

echo "==================="

cd "$pkg_dir" && \
"$root_dir/compiler/nodejs/wcc" "-ds" "-d" "--split" ">_<9986" "-xc" "56>_<9986./components/card.wxml>_<99860>_<9986./components/beat-char/beat-char.wxml>_<99860>_<9986./components/mytree/mytree.wxml>_<99861>_<9986mytree>_<9986./components/scroll/index.wxml>_<99860>_<9986./components/tab/index.wxml>_<99860>_<9986./miniprogram_npm/weui-miniprogram/cell/cell.wxml>_<99861>_<9986mp-cells>_<9986./miniprogram_npm/weui-miniprogram/cells/cells.wxml>_<99860>_<9986./miniprogram_npm/weui-miniprogram/loading/loading.wxml>_<99860>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml>_<99861>_<9986node>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml>_<99861>_<9986node>_<9986./pages/THEOL/THEOL.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/THEOL/dir/dir.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/THEOL/tree/tree.wxml>_<99862>_<9986mytree>_<9986mp-loading>_<9986./pages/articleView/articleView.wxml>_<99861>_<9986html-parser>_<9986./pages/auth/auth.wxml>_<99863>_<9986uni-row>_<9986uni-col>_<9986uni-title>_<9986./pages/calendar/calendar.wxml>_<99860>_<9986./pages/card/card.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/checkIn/edit.wxml>_<99863>_<9986d-form>_<9986mp-cell>_<9986mp-cells>_<9986./pages/checkIn/list.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/courseTable/courseTable.wxml>_<99860>_<9986./pages/courseTable/imgCropper/imgCropper.wxml>_<99861>_<9986image-cropper>_<9986./pages/exam/exam.wxml>_<99860>_<9986./pages/grade/grade.wxml>_<99860>_<9986./pages/index/index.wxml>_<99860>_<9986./pages/laboratory/detail.wxml>_<99860>_<9986./pages/laboratory/list.wxml>_<99860>_<9986./pages/login/login.wxml>_<99860>_<9986./pages/maintenance/maintenance.wxml>_<99861>_<9986beat-char>_<9986./pages/my/about.wxml>_<99860>_<9986./pages/my/info.wxml>_<99862>_<9986uni-row>_<9986uni-col>_<9986./pages/my/my.wxml>_<99862>_<9986uni-card>_<9986info>_<9986./pages/my/ADMag/ADMag.wxml>_<99860>_<9986./pages/my/ADMag/watchAD/watchAD.wxml>_<99860>_<9986./pages/my/bind/bind.wxml>_<99860>_<9986./pages/my/bind/mini.wxml>_<99860>_<9986./pages/my/dataMag/dataMag.wxml>_<99860>_<9986./pages/my/register/register.wxml>_<99860>_<9986./pages/my/sso/forget.wxml>_<99860>_<9986./pages/my/sso/sso.wxml>_<99862>_<9986mp-cells>_<9986mp-cell>_<9986./pages/my/sub/sub.wxml>_<99862>_<9986mp-cell>_<9986mp-cells>_<9986./pages/newsList/newsList.wxml>_<99862>_<9986tab>_<9986scroll>_<9986./pages/officeGrade/query.wxml>_<99862>_<9986mp-cells>_<9986mp-cell>_<9986./pages/resources/list.wxml>_<99860>_<9986./pages/terms/privacy.wxml>_<99861>_<9986card>_<9986./pages/terms/terms.wxml>_<99860>_<9986./uni_modules/uni-card/components/uni-card/uni-card.wxml>_<99861>_<9986uni-icons>_<9986./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml>_<99860>_<9986./uni_modules/uni-row/components/uni-col/uni-col.wxml>_<99860>_<9986./uni_modules/uni-row/components/uni-row/uni-row.wxml>_<99860>_<9986./uni_modules/uni-title/components/uni-title/uni-title.wxml>_<99860>_<9986./wxcomponents/dynamicForm/index.wxml>_<99863>_<9986van-icon>_<9986van-uploader>_<9986time-picker>_<9986./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml>_<99860>_<9986./wxcomponents/dynamicForm/vant/icon/index.wxml>_<99861>_<9986van-info>_<9986./wxcomponents/dynamicForm/vant/info/index.wxml>_<99860>_<9986./wxcomponents/dynamicForm/vant/uploader/index.wxml>_<99861>_<9986van-icon>_<9986./wxcomponents/image-cropper/image-cropper.wxml>_<99860" "-lla" "./components/card>_<9986./components/beat-char/beat-char>_<9986./components/mytree/mytree>_<9986./components/scroll/index>_<9986./components/tab/index>_<9986./miniprogram_npm/weui-miniprogram/cell/cell>_<9986./miniprogram_npm/weui-miniprogram/cells/cells>_<9986./miniprogram_npm/weui-miniprogram/loading/loading>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html>_<9986./node-modules/mp-html/dist/uni-app/components/mp-html/node/node>_<9986./pages/THEOL/THEOL>_<9986./pages/THEOL/dir/dir>_<9986./pages/THEOL/tree/tree>_<9986./pages/articleView/articleView>_<9986./pages/auth/auth>_<9986./pages/calendar/calendar>_<9986./pages/card/card>_<9986./pages/checkIn/edit>_<9986./pages/checkIn/list>_<9986./pages/courseTable/courseTable>_<9986./pages/courseTable/imgCropper/imgCropper>_<9986./pages/exam/exam>_<9986./pages/grade/grade>_<9986./pages/index/index>_<9986./pages/laboratory/detail>_<9986./pages/laboratory/list>_<9986./pages/login/login>_<9986./pages/maintenance/maintenance>_<9986./pages/my/about>_<9986./pages/my/info>_<9986./pages/my/my>_<9986./pages/my/ADMag/ADMag>_<9986./pages/my/ADMag/watchAD/watchAD>_<9986./pages/my/bind/bind>_<9986./pages/my/bind/mini>_<9986./pages/my/dataMag/dataMag>_<9986./pages/my/register/register>_<9986./pages/my/sso/forget>_<9986./pages/my/sso/sso>_<9986./pages/my/sub/sub>_<9986./pages/newsList/newsList>_<9986./pages/officeGrade/query>_<9986./pages/resources/list>_<9986./pages/terms/privacy>_<9986./pages/terms/terms>_<9986./uni_modules/uni-card/components/uni-card/uni-card>_<9986./uni_modules/uni-icons/components/uni-icons/uni-icons>_<9986./uni_modules/uni-row/components/uni-col/uni-col>_<9986./uni_modules/uni-row/components/uni-row/uni-row>_<9986./uni_modules/uni-title/components/uni-title/uni-title>_<9986./wxcomponents/dynamicForm/index>_<9986./wxcomponents/dynamicForm/components/timePicker/timePicker>_<9986./wxcomponents/dynamicForm/vant/icon/index>_<9986./wxcomponents/dynamicForm/vant/info/index>_<9986./wxcomponents/dynamicForm/vant/uploader/index>_<9986./wxcomponents/image-cropper/image-cropper" "./components/card.wxml" "./components/beat-char/beat-char.wxml" "./components/mytree/mytree.wxml" "./components/scroll/index.wxml" "./components/tab/index.wxml" "./miniprogram_npm/weui-miniprogram/cell/cell.wxml" "./miniprogram_npm/weui-miniprogram/cells/cells.wxml" "./miniprogram_npm/weui-miniprogram/loading/loading.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml" "./pages/THEOL/THEOL.wxml" "./pages/THEOL/dir/dir.wxml" "./pages/THEOL/tree/tree.wxml" "./pages/articleView/articleView.wxml" "./pages/auth/auth.wxml" "./pages/calendar/calendar.wxml" "./pages/card/card.wxml" "./pages/checkIn/edit.wxml" "./pages/checkIn/list.wxml" "./pages/courseTable/courseTable.wxml" "./pages/courseTable/imgCropper/imgCropper.wxml" "./pages/exam/exam.wxml" "./pages/grade/grade.wxml" "./pages/index/index.wxml" "./pages/laboratory/detail.wxml" "./pages/laboratory/list.wxml" "./pages/login/login.wxml" "./pages/maintenance/maintenance.wxml" "./pages/my/about.wxml" "./pages/my/info.wxml" "./pages/my/my.wxml" "./pages/my/ADMag/ADMag.wxml" "./pages/my/ADMag/watchAD/watchAD.wxml" "./pages/my/bind/bind.wxml" "./pages/my/bind/mini.wxml" "./pages/my/dataMag/dataMag.wxml" "./pages/my/register/register.wxml" "./pages/my/sso/forget.wxml" "./pages/my/sso/sso.wxml" "./pages/my/sub/sub.wxml" "./pages/newsList/newsList.wxml" "./pages/officeGrade/query.wxml" "./pages/resources/list.wxml" "./pages/terms/privacy.wxml" "./pages/terms/terms.wxml" "./uni_modules/uni-card/components/uni-card/uni-card.wxml" "./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml" "./uni_modules/uni-row/components/uni-col/uni-col.wxml" "./uni_modules/uni-row/components/uni-row/uni-row.wxml" "./uni_modules/uni-title/components/uni-title/uni-title.wxml" "./wxcomponents/dynamicForm/index.wxml" "./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml" "./wxcomponents/dynamicForm/vant/icon/index.wxml" "./wxcomponents/dynamicForm/vant/info/index.wxml" "./wxcomponents/dynamicForm/vant/uploader/index.wxml" "./wxcomponents/image-cropper/image-cropper.wxml" "./pages/grade/check.wxs" "./pages/laboratory/labDetail.wxs" "-gn" "\$gwx" \
  > "$store_dir/nodejs.json"

diff "$store_dir/wine.json" "$store_dir/nodejs.json" >/dev/null
if  [ "$?" == "0" ];then
    echo "the file or dir is same!"
else 
     echo "the file or dir is different!"
fi