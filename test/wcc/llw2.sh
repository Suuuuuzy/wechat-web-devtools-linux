#!/bin/bash
# 本脚本用于测试wcc编译器带llw参数时的编译结果
root_dir=$(cd `dirname $0`/../.. && pwd -P)
pkg_dir="/mnt/disk1/Project/WeCuit-Project/WeCuit-Mini-uni-test_uni_vue-cli/dist/dev/mp-weixin"
# pkg_dir="/home/msojocs/Documents/we1"
store_dir="$root_dir/test/wcc/llw/2"

cd "$pkg_dir" && \
wine "$root_dir/package.nw/js/vendor/wcc.exe" "-ds" "-d" "--split" ">_<1866" "-cc" "56>_<1866./components/card.wxml>_<18660>_<1866./components/beat-char/beat-char.wxml>_<18660>_<1866./components/mytree/mytree.wxml>_<18661>_<1866mytree>_<1866./components/scroll/index.wxml>_<18660>_<1866./components/tab/index.wxml>_<18660>_<1866./miniprogram_npm/weui-miniprogram/cell/cell.wxml>_<18661>_<1866mp-cells>_<1866./miniprogram_npm/weui-miniprogram/cells/cells.wxml>_<18660>_<1866./miniprogram_npm/weui-miniprogram/loading/loading.wxml>_<18660>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml>_<18661>_<1866node>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml>_<18661>_<1866node>_<1866./pages/THEOL/THEOL.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/THEOL/dir/dir.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/THEOL/tree/tree.wxml>_<18662>_<1866mytree>_<1866mp-loading>_<1866./pages/articleView/articleView.wxml>_<18661>_<1866html-parser>_<1866./pages/auth/auth.wxml>_<18663>_<1866uni-row>_<1866uni-col>_<1866uni-title>_<1866./pages/calendar/calendar.wxml>_<18660>_<1866./pages/card/card.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/checkIn/edit.wxml>_<18663>_<1866d-form>_<1866mp-cell>_<1866mp-cells>_<1866./pages/checkIn/list.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/courseTable/courseTable.wxml>_<18660>_<1866./pages/courseTable/imgCropper/imgCropper.wxml>_<18661>_<1866image-cropper>_<1866./pages/exam/exam.wxml>_<18660>_<1866./pages/grade/grade.wxml>_<18660>_<1866./pages/index/index.wxml>_<18660>_<1866./pages/laboratory/detail.wxml>_<18660>_<1866./pages/laboratory/list.wxml>_<18660>_<1866./pages/login/login.wxml>_<18660>_<1866./pages/maintenance/maintenance.wxml>_<18661>_<1866beat-char>_<1866./pages/my/about.wxml>_<18660>_<1866./pages/my/info.wxml>_<18662>_<1866uni-row>_<1866uni-col>_<1866./pages/my/my.wxml>_<18662>_<1866uni-card>_<1866info>_<1866./pages/my/ADMag/ADMag.wxml>_<18660>_<1866./pages/my/ADMag/watchAD/watchAD.wxml>_<18660>_<1866./pages/my/bind/bind.wxml>_<18660>_<1866./pages/my/bind/mini.wxml>_<18660>_<1866./pages/my/dataMag/dataMag.wxml>_<18660>_<1866./pages/my/register/register.wxml>_<18660>_<1866./pages/my/sso/forget.wxml>_<18660>_<1866./pages/my/sso/sso.wxml>_<18662>_<1866mp-cells>_<1866mp-cell>_<1866./pages/my/sub/sub.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/newsList/newsList.wxml>_<18662>_<1866tab>_<1866scroll>_<1866./pages/officeGrade/query.wxml>_<18662>_<1866mp-cells>_<1866mp-cell>_<1866./pages/resources/list.wxml>_<18660>_<1866./pages/terms/privacy.wxml>_<18661>_<1866card>_<1866./pages/terms/terms.wxml>_<18660>_<1866./uni_modules/uni-card/components/uni-card/uni-card.wxml>_<18661>_<1866uni-icons>_<1866./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml>_<18660>_<1866./uni_modules/uni-row/components/uni-col/uni-col.wxml>_<18660>_<1866./uni_modules/uni-row/components/uni-row/uni-row.wxml>_<18660>_<1866./uni_modules/uni-title/components/uni-title/uni-title.wxml>_<18660>_<1866./wxcomponents/dynamicForm/index.wxml>_<18663>_<1866van-icon>_<1866van-uploader>_<1866time-picker>_<1866./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml>_<18660>_<1866./wxcomponents/dynamicForm/vant/icon/index.wxml>_<18661>_<1866van-info>_<1866./wxcomponents/dynamicForm/vant/info/index.wxml>_<18660>_<1866./wxcomponents/dynamicForm/vant/uploader/index.wxml>_<18661>_<1866van-icon>_<1866./wxcomponents/image-cropper/image-cropper.wxml>_<18660" "-llw" "./components/card>_<1866./components/beat-char/beat-char>_<1866./components/mytree/mytree>_<1866./components/scroll/index>_<1866./components/tab/index>_<1866./miniprogram_npm/weui-miniprogram/cell/cell>_<1866./miniprogram_npm/weui-miniprogram/cells/cells>_<1866./miniprogram_npm/weui-miniprogram/loading/loading>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/node/node>_<1866./pages/THEOL/THEOL>_<1866./pages/THEOL/dir/dir>_<1866./pages/THEOL/tree/tree>_<1866./pages/articleView/articleView>_<1866./pages/auth/auth>_<1866./pages/calendar/calendar>_<1866./pages/card/card>_<1866./pages/checkIn/edit>_<1866./pages/checkIn/list>_<1866./pages/courseTable/courseTable>_<1866./pages/courseTable/imgCropper/imgCropper>_<1866./pages/exam/exam>_<1866./pages/grade/grade>_<1866./pages/index/index>_<1866./pages/laboratory/detail>_<1866./pages/laboratory/list>_<1866./pages/login/login>_<1866./pages/maintenance/maintenance>_<1866./pages/my/about>_<1866./pages/my/info>_<1866./pages/my/my>_<1866./pages/my/ADMag/ADMag>_<1866./pages/my/ADMag/watchAD/watchAD>_<1866./pages/my/bind/bind>_<1866./pages/my/bind/mini>_<1866./pages/my/dataMag/dataMag>_<1866./pages/my/register/register>_<1866./pages/my/sso/forget>_<1866./pages/my/sso/sso>_<1866./pages/my/sub/sub>_<1866./pages/newsList/newsList>_<1866./pages/officeGrade/query>_<1866./pages/resources/list>_<1866./pages/terms/privacy>_<1866./pages/terms/terms>_<1866./uni_modules/uni-card/components/uni-card/uni-card>_<1866./uni_modules/uni-icons/components/uni-icons/uni-icons>_<1866./uni_modules/uni-row/components/uni-col/uni-col>_<1866./uni_modules/uni-row/components/uni-row/uni-row>_<1866./uni_modules/uni-title/components/uni-title/uni-title>_<1866./wxcomponents/dynamicForm/index>_<1866./wxcomponents/dynamicForm/components/timePicker/timePicker>_<1866./wxcomponents/dynamicForm/vant/icon/index>_<1866./wxcomponents/dynamicForm/vant/info/index>_<1866./wxcomponents/dynamicForm/vant/uploader/index>_<1866./wxcomponents/image-cropper/image-cropper" "./components/card.wxml" "./components/beat-char/beat-char.wxml" "./components/mytree/mytree.wxml" "./components/scroll/index.wxml" "./components/tab/index.wxml" "./miniprogram_npm/weui-miniprogram/cell/cell.wxml" "./miniprogram_npm/weui-miniprogram/cells/cells.wxml" "./miniprogram_npm/weui-miniprogram/loading/loading.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml" "./pages/THEOL/THEOL.wxml" "./pages/THEOL/dir/dir.wxml" "./pages/THEOL/tree/tree.wxml" "./pages/articleView/articleView.wxml" "./pages/auth/auth.wxml" "./pages/calendar/calendar.wxml" "./pages/card/card.wxml" "./pages/checkIn/edit.wxml" "./pages/checkIn/list.wxml" "./pages/courseTable/courseTable.wxml" "./pages/courseTable/imgCropper/imgCropper.wxml" "./pages/exam/exam.wxml" "./pages/grade/grade.wxml" "./pages/index/index.wxml" "./pages/laboratory/detail.wxml" "./pages/laboratory/list.wxml" "./pages/login/login.wxml" "./pages/maintenance/maintenance.wxml" "./pages/my/about.wxml" "./pages/my/info.wxml" "./pages/my/my.wxml" "./pages/my/ADMag/ADMag.wxml" "./pages/my/ADMag/watchAD/watchAD.wxml" "./pages/my/bind/bind.wxml" "./pages/my/bind/mini.wxml" "./pages/my/dataMag/dataMag.wxml" "./pages/my/register/register.wxml" "./pages/my/sso/forget.wxml" "./pages/my/sso/sso.wxml" "./pages/my/sub/sub.wxml" "./pages/newsList/newsList.wxml" "./pages/officeGrade/query.wxml" "./pages/resources/list.wxml" "./pages/terms/privacy.wxml" "./pages/terms/terms.wxml" "./uni_modules/uni-card/components/uni-card/uni-card.wxml" "./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml" "./uni_modules/uni-row/components/uni-col/uni-col.wxml" "./uni_modules/uni-row/components/uni-row/uni-row.wxml" "./uni_modules/uni-title/components/uni-title/uni-title.wxml" "./wxcomponents/dynamicForm/index.wxml" "./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml" "./wxcomponents/dynamicForm/vant/icon/index.wxml" "./wxcomponents/dynamicForm/vant/info/index.wxml" "./wxcomponents/dynamicForm/vant/uploader/index.wxml" "./wxcomponents/image-cropper/image-cropper.wxml" "./pages/grade/check.wxs" "./pages/laboratory/labDetail.wxs" "-gn" "\$gwx" \
 > "$store_dir/wine.json"

echo "==================="

cd "$pkg_dir" && \
"$root_dir/compiler/nodejs/wcc" "-ds" "-d" "--split" ">_<1866" "-cc" "56>_<1866./components/card.wxml>_<18660>_<1866./components/beat-char/beat-char.wxml>_<18660>_<1866./components/mytree/mytree.wxml>_<18661>_<1866mytree>_<1866./components/scroll/index.wxml>_<18660>_<1866./components/tab/index.wxml>_<18660>_<1866./miniprogram_npm/weui-miniprogram/cell/cell.wxml>_<18661>_<1866mp-cells>_<1866./miniprogram_npm/weui-miniprogram/cells/cells.wxml>_<18660>_<1866./miniprogram_npm/weui-miniprogram/loading/loading.wxml>_<18660>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml>_<18661>_<1866node>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml>_<18661>_<1866node>_<1866./pages/THEOL/THEOL.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/THEOL/dir/dir.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/THEOL/tree/tree.wxml>_<18662>_<1866mytree>_<1866mp-loading>_<1866./pages/articleView/articleView.wxml>_<18661>_<1866html-parser>_<1866./pages/auth/auth.wxml>_<18663>_<1866uni-row>_<1866uni-col>_<1866uni-title>_<1866./pages/calendar/calendar.wxml>_<18660>_<1866./pages/card/card.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/checkIn/edit.wxml>_<18663>_<1866d-form>_<1866mp-cell>_<1866mp-cells>_<1866./pages/checkIn/list.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/courseTable/courseTable.wxml>_<18660>_<1866./pages/courseTable/imgCropper/imgCropper.wxml>_<18661>_<1866image-cropper>_<1866./pages/exam/exam.wxml>_<18660>_<1866./pages/grade/grade.wxml>_<18660>_<1866./pages/index/index.wxml>_<18660>_<1866./pages/laboratory/detail.wxml>_<18660>_<1866./pages/laboratory/list.wxml>_<18660>_<1866./pages/login/login.wxml>_<18660>_<1866./pages/maintenance/maintenance.wxml>_<18661>_<1866beat-char>_<1866./pages/my/about.wxml>_<18660>_<1866./pages/my/info.wxml>_<18662>_<1866uni-row>_<1866uni-col>_<1866./pages/my/my.wxml>_<18662>_<1866uni-card>_<1866info>_<1866./pages/my/ADMag/ADMag.wxml>_<18660>_<1866./pages/my/ADMag/watchAD/watchAD.wxml>_<18660>_<1866./pages/my/bind/bind.wxml>_<18660>_<1866./pages/my/bind/mini.wxml>_<18660>_<1866./pages/my/dataMag/dataMag.wxml>_<18660>_<1866./pages/my/register/register.wxml>_<18660>_<1866./pages/my/sso/forget.wxml>_<18660>_<1866./pages/my/sso/sso.wxml>_<18662>_<1866mp-cells>_<1866mp-cell>_<1866./pages/my/sub/sub.wxml>_<18662>_<1866mp-cell>_<1866mp-cells>_<1866./pages/newsList/newsList.wxml>_<18662>_<1866tab>_<1866scroll>_<1866./pages/officeGrade/query.wxml>_<18662>_<1866mp-cells>_<1866mp-cell>_<1866./pages/resources/list.wxml>_<18660>_<1866./pages/terms/privacy.wxml>_<18661>_<1866card>_<1866./pages/terms/terms.wxml>_<18660>_<1866./uni_modules/uni-card/components/uni-card/uni-card.wxml>_<18661>_<1866uni-icons>_<1866./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml>_<18660>_<1866./uni_modules/uni-row/components/uni-col/uni-col.wxml>_<18660>_<1866./uni_modules/uni-row/components/uni-row/uni-row.wxml>_<18660>_<1866./uni_modules/uni-title/components/uni-title/uni-title.wxml>_<18660>_<1866./wxcomponents/dynamicForm/index.wxml>_<18663>_<1866van-icon>_<1866van-uploader>_<1866time-picker>_<1866./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml>_<18660>_<1866./wxcomponents/dynamicForm/vant/icon/index.wxml>_<18661>_<1866van-info>_<1866./wxcomponents/dynamicForm/vant/info/index.wxml>_<18660>_<1866./wxcomponents/dynamicForm/vant/uploader/index.wxml>_<18661>_<1866van-icon>_<1866./wxcomponents/image-cropper/image-cropper.wxml>_<18660" "-llw" "./components/card>_<1866./components/beat-char/beat-char>_<1866./components/mytree/mytree>_<1866./components/scroll/index>_<1866./components/tab/index>_<1866./miniprogram_npm/weui-miniprogram/cell/cell>_<1866./miniprogram_npm/weui-miniprogram/cells/cells>_<1866./miniprogram_npm/weui-miniprogram/loading/loading>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html>_<1866./node-modules/mp-html/dist/uni-app/components/mp-html/node/node>_<1866./pages/THEOL/THEOL>_<1866./pages/THEOL/dir/dir>_<1866./pages/THEOL/tree/tree>_<1866./pages/articleView/articleView>_<1866./pages/auth/auth>_<1866./pages/calendar/calendar>_<1866./pages/card/card>_<1866./pages/checkIn/edit>_<1866./pages/checkIn/list>_<1866./pages/courseTable/courseTable>_<1866./pages/courseTable/imgCropper/imgCropper>_<1866./pages/exam/exam>_<1866./pages/grade/grade>_<1866./pages/index/index>_<1866./pages/laboratory/detail>_<1866./pages/laboratory/list>_<1866./pages/login/login>_<1866./pages/maintenance/maintenance>_<1866./pages/my/about>_<1866./pages/my/info>_<1866./pages/my/my>_<1866./pages/my/ADMag/ADMag>_<1866./pages/my/ADMag/watchAD/watchAD>_<1866./pages/my/bind/bind>_<1866./pages/my/bind/mini>_<1866./pages/my/dataMag/dataMag>_<1866./pages/my/register/register>_<1866./pages/my/sso/forget>_<1866./pages/my/sso/sso>_<1866./pages/my/sub/sub>_<1866./pages/newsList/newsList>_<1866./pages/officeGrade/query>_<1866./pages/resources/list>_<1866./pages/terms/privacy>_<1866./pages/terms/terms>_<1866./uni_modules/uni-card/components/uni-card/uni-card>_<1866./uni_modules/uni-icons/components/uni-icons/uni-icons>_<1866./uni_modules/uni-row/components/uni-col/uni-col>_<1866./uni_modules/uni-row/components/uni-row/uni-row>_<1866./uni_modules/uni-title/components/uni-title/uni-title>_<1866./wxcomponents/dynamicForm/index>_<1866./wxcomponents/dynamicForm/components/timePicker/timePicker>_<1866./wxcomponents/dynamicForm/vant/icon/index>_<1866./wxcomponents/dynamicForm/vant/info/index>_<1866./wxcomponents/dynamicForm/vant/uploader/index>_<1866./wxcomponents/image-cropper/image-cropper" "./components/card.wxml" "./components/beat-char/beat-char.wxml" "./components/mytree/mytree.wxml" "./components/scroll/index.wxml" "./components/tab/index.wxml" "./miniprogram_npm/weui-miniprogram/cell/cell.wxml" "./miniprogram_npm/weui-miniprogram/cells/cells.wxml" "./miniprogram_npm/weui-miniprogram/loading/loading.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/mp-html.wxml" "./node-modules/mp-html/dist/uni-app/components/mp-html/node/node.wxml" "./pages/THEOL/THEOL.wxml" "./pages/THEOL/dir/dir.wxml" "./pages/THEOL/tree/tree.wxml" "./pages/articleView/articleView.wxml" "./pages/auth/auth.wxml" "./pages/calendar/calendar.wxml" "./pages/card/card.wxml" "./pages/checkIn/edit.wxml" "./pages/checkIn/list.wxml" "./pages/courseTable/courseTable.wxml" "./pages/courseTable/imgCropper/imgCropper.wxml" "./pages/exam/exam.wxml" "./pages/grade/grade.wxml" "./pages/index/index.wxml" "./pages/laboratory/detail.wxml" "./pages/laboratory/list.wxml" "./pages/login/login.wxml" "./pages/maintenance/maintenance.wxml" "./pages/my/about.wxml" "./pages/my/info.wxml" "./pages/my/my.wxml" "./pages/my/ADMag/ADMag.wxml" "./pages/my/ADMag/watchAD/watchAD.wxml" "./pages/my/bind/bind.wxml" "./pages/my/bind/mini.wxml" "./pages/my/dataMag/dataMag.wxml" "./pages/my/register/register.wxml" "./pages/my/sso/forget.wxml" "./pages/my/sso/sso.wxml" "./pages/my/sub/sub.wxml" "./pages/newsList/newsList.wxml" "./pages/officeGrade/query.wxml" "./pages/resources/list.wxml" "./pages/terms/privacy.wxml" "./pages/terms/terms.wxml" "./uni_modules/uni-card/components/uni-card/uni-card.wxml" "./uni_modules/uni-icons/components/uni-icons/uni-icons.wxml" "./uni_modules/uni-row/components/uni-col/uni-col.wxml" "./uni_modules/uni-row/components/uni-row/uni-row.wxml" "./uni_modules/uni-title/components/uni-title/uni-title.wxml" "./wxcomponents/dynamicForm/index.wxml" "./wxcomponents/dynamicForm/components/timePicker/timePicker.wxml" "./wxcomponents/dynamicForm/vant/icon/index.wxml" "./wxcomponents/dynamicForm/vant/info/index.wxml" "./wxcomponents/dynamicForm/vant/uploader/index.wxml" "./wxcomponents/image-cropper/image-cropper.wxml" "./pages/grade/check.wxs" "./pages/laboratory/labDetail.wxs" "-gn" "\$gwx" \
 > "$store_dir/nodejs.json"

diff "$store_dir/wine.json" "$store_dir/nodejs.json" >/dev/null
if  [ "$?" == "0" ];then
    echo "the file or dir is same!"
else 
     echo "the file or dir is different!"
fi